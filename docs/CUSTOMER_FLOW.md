# RanRHar — โฟลว์ลูกค้า (Customer View)

**วิธีทดสอบ:** เปิด `http://localhost:3000` ในเบราว์เซอร์ (รัน `pnpm dev` ก่อน)

---

## ขั้นตอนที่ลูกค้าเห็น

### 1. เปิด WebApp

**URL:** `http://localhost:3000` หรือ `http://localhost:3000/menu/A12`

- ระบบจะ redirect ไป **`/menu/A12`** ทันที
- ลูกค้าเห็นเมนูโดยไม่ต้อง login

---

### 2. หน้าเมนู (`/menu/A12`)

```
┌─────────────────────────────────────────────────────────┐
│  เมนู                                    เจ้าหน้าที่ →  │
├─────────────────────────────────────────────────────────┤
│  Table: A12                                              │
│  Restaurant: RanRHar                                     │
│  Branch: Branch 001                                      │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  Recommended                                             │
│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐    │
│  │ [รูป Pad Thai]│ │ [รูป Tom Yum]│ │ [รูป Curry]  │    │
│  │ Signature    │ │ Tom Yum      │ │ Green Curry  │    │
│  │ Pad Thai      │ │ Goong       │ │              │    │
│  │ ฿199          │ │ ฿249        │ │ ฿189         │    │
│  │ [Add to Cart] │ │ [Add to Cart]│ │ [Add to Cart]│    │
│  └──────────────┘ └──────────────┘ └──────────────┘    │
│                                                          │
│  Main Dishes                                             │
│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐    │
│  │ Grilled Chicken│ │ Fried Rice  │ │ Stir-Fried   │    │
│  │ ฿159          │ │ ฿89         │ │ Vegetables   │    │
│  │ [Add to Cart] │ │ [Add to Cart]│ │ ฿79 [Add]    │    │
│  └──────────────┘ └──────────────┘ └──────────────┘    │
│                                                          │
│  Beverages                                               │
│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐    │
│  │ Thai Iced Tea│ │ Fresh Coconut│ │ Mango Smoothie│    │
│  │ ฿45          │ │ ฿55         │ │ ฿65          │    │
│  └──────────────┘ └──────────────┘ └──────────────┘    │
│                                                          │
├─────────────────────────────────────────────────────────┤
│  ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓  │
│  3 items  ฿637  ▲  Tap to view details                   │
└─────────────────────────────────────────────────────────┘
```

**สิ่งที่ลูกค้าทำได้:**
- ดูเมนู 3 หมวด (Recommended, Main Dishes, Beverages)
- เห็นรูปอาหาร + ชื่อ + ราคา
- กด **Add to Cart** เพื่อเพิ่มในตระกร้า
- ตระกร้า sticky ด้านล่าง แสดงจำนวนรายการและยอดรวม
- กดตระกร้าเพื่อขยาย — เห็นรายการ, ปุ่ม + / -, **Place Order**

---

### 3. กด Place Order → หน้า Checkout (`/checkout`)

```
┌─────────────────────────────────────────────────────────┐
│  Checkout                                                │
├─────────────────────────────────────────────────────────┤
│  Order Summary                                           │
│  ─────────────────────────────────────────────────────  │
│  Pad Thai           ฿199 × 2                       ฿398│
│  Tom Yum Goong      ฿249 × 1                       ฿249│
│  Thai Iced Tea      ฿45 × 1                         ฿45 │
│  ─────────────────────────────────────────────────────  │
│  Subtotal                                     ฿692     │
│  Total                                        ฿692     │
│                                                          │
│  ┌────────────────────────────────────────────────────┐ │
│  │              Place Order                            │ │
│  └────────────────────────────────────────────────────┘ │
│                                                          │
│  ← Back to Menu                                          │
└─────────────────────────────────────────────────────────┘
```

**สิ่งที่ลูกค้าทำได้:**
- ตรวจสอบรายการและยอดรวม
- กด **Place Order** เพื่อสั่งอาหาร
- ไม่ต้อง login — ใช้ Guest Order

---

### 4. สั่งสำเร็จ → หน้า Order Success (`/order/success/[id]`)

```
┌─────────────────────────────────────────────────────────┐
│  Order Confirmed                                         │
├─────────────────────────────────────────────────────────┤
│  Thank you for your order!                               │
│  Order #42                                               │
│                                                          │
│  Pad Thai × 2                                    ฿398   │
│  Tom Yum Goong × 1                               ฿249   │
│  Thai Iced Tea × 1                               ฿45    │
│  ─────────────────────────────────────────────────────  │
│  Total: ฿692                                             │
│                                                          │
│  ┌────────────────────────────────────────────────────┐ │
│  │              Back to Menu                            │ │
│  └────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────┘
```

**สิ่งที่ลูกค้าเห็น:**
- เลขออเดอร์
- รายการที่สั่ง
- ยอดรวม
- ปุ่มกลับไปเมนู

---

## สรุป Flow ลูกค้า

```
[เปิด localhost:3000]
        │
        ▼
[/menu/A12] ─── ดูเมนู, กด Add to Cart
        │
        │ กด Place Order (จากตระกร้า)
        ▼
[/checkout] ─── ตรวจสอบ, กด Place Order
        │
        │ สั่งสำเร็จ
        ▼
[/order/success/42] ─── แสดงยืนยัน
        │
        │ กด Back to Menu
        ▼
[/menu/A12]
```

---

## วิธีทดสอบ

```bash
# 1. รัน dev server
pnpm dev

# 2. เปิดเบราว์เซอร์
# http://localhost:3000

# 3. ทำตาม flow
# - คลิก Add to Cart ที่เมนูใดก็ได้
# - คลิกตระกร้าด้านล่าง → Place Order
# - กด Place Order ที่หน้า Checkout
# - ดูหน้า Order Success
```

---

*เอกสารนี้อธิบายมุมมองลูกค้าเมื่อใช้ WebApp*
