# RanRHar — ความต้องการจากมุมมองหลายบทบาท

**Version:** 1.0  
**วันที่:** 2026-02-08  
**วัตถุประสงค์:** บันทึกความต้องการของแต่ละบทบาท เพื่อให้ระบบตอบโจทย์การใช้งานจริงในร้านอาหาร

---

## สรุปภาพรวม

| บทบาท | จุดโฟกัสหลัก | สถานะปัจจุบัน | ความสำคัญ |
|-------|--------------|----------------|-----------|
| ลูกค้า | เมนูสวย, ข้อมูลครบ, โปรโมชั่น | มีเมนูพื้นฐาน | สูง |
| พนักงานเสิร์ฟ | อาหารแนะนำ, สถานะโต๊ะ, ลูกค้าเก่า | ยังไม่มี | สูง |
| พ่อครัว | ลำดับทำอาหาร, คำขอพิเศษ, สต็อก | ยังไม่มี KDS | สูง |
| แคชเชียร์/การเงิน | ภาษี, วิธีจ่ายเงิน, ใบเสร็จ | มี CASH/QR | สูง |
| ผู้จัดการร้าน | ภาพรวมทั้งหมด | มีบางส่วน | กลาง |
| เจ้าของ/กำไรขาดทุน | P&L, รายได้-ค่าใช้จ่าย | ยังไม่มี | กลาง |
| **Quality Closed Loop** | Feedback → บันทึก → แก้ไข → ติดตาม | ยังไม่มี | สูง |

---

## 1. ลูกค้า (Customer)

### ความต้องการ

| หมวด | รายละเอียด |
|------|-------------|
| **เมนูสวยงาม** | รูปชัด, ฟอนต์อ่านง่าย, เรียงเป็นหมวดหมู่ |
| **ชื่อเมนู** | ชื่ออาหารชัดเจน, หลายภาษา (TH/EN/JP/ZH) |
| **ราคา** | แสดงบาทชัดเจน, แยกภาษี/รวมภาษีถ้าจำเป็น |
| **ประเภทอาหาร** | ไอคอน/แท็ก: เนื้อ, หมู, ไก่, อาหารทะเล, มังสวิรัติ, ฮาลาล |
| **โปรโมชั่น** | ลดราคา, แถม, Set เมนู, โปรโมชั่นตามช่วงเวลา | |

### ข้อมูลที่ควรมีเพิ่มเติม

| หมวด | รายละเอียดเพิ่มเติม |
|------|----------------------|
| **รายละเอียดเมนู** | ส่วนผสมหลัก, ระดับความเผ็ด (1–5), ขนาด (S/M/L), เคลือบหรือไม่ |
| **ภาพประกอบ** | รูปหลายมุม (ถ้ามี), วิดีโอสั้น (optional) |
| **สารอาหาร** | แคลอรี่, protein, carb (optional สำหรับร้านสุขภาพ) |
| **เวลาเตรียม** | "ประมาณ 15 นาที" เพื่อให้ลูกค้าคาดหวังได้ |
| **เมนูแนะนำ** | แท็ก "ขายดี", "เชฟแนะนำ", "เมนูใหม่" |
| **การ filtr** | กรองตาม: ประเภท, ราคา, ความเผ็ด, แคลอรี่ |
| **Search** | ค้นหาชื่อเมนูได้ |
| **รายการโปรด** | บันทึกเมนูที่เคยสั่ง (ถ้า login/remember) |
| **Modifier** | เลือกเพิ่มไข่, ไม่พริก, ระดับความหวาน |
| **ราคา+ภาษี** | แสดง "รวม VAT" หรือ "ราคาไม่รวม VAT 7%" |
| **วิธีจ่าย** | เลือก: เงินสด, QR, บัตร, โอน — ก่อนชำระ |

### สถานะปัจจุบัน

| ฟีเจอร์ | มี | ไม่มี |
|---------|-----|-------|
| เมนูรูปภาพ | ✅ | |
| ชื่อ + ราคา | ✅ | |
| หมวดหมู่ (Recommended, Main, Beverages) | ✅ | |
| ประเภทอาหาร (เนื้อ/หมู/ทะเล/มังสวิรัติ) | | ❌ |
| โปรโมชั่น | | ❌ |
| หลายภาษา | | ❌ |

### ข้อเสนอแนะ (Data Model)

```sql
-- เพิ่มใน menu_items
ALTER TABLE menu_items ADD COLUMN tags TEXT[];           -- ['meat','seafood','vegetarian']
ALTER TABLE menu_items ADD COLUMN name_th VARCHAR(255);
ALTER TABLE menu_items ADD COLUMN name_en VARCHAR(255);
-- เพิ่มตาราง promotions
-- promotions: id, name, type (discount/set/bundle), discount_value, valid_from, valid_to
```

---

## 2. พนักงานเสิร์ฟ (Waiter/Server)

### ความต้องการ

| หมวด | รายละเอียด |
|------|-------------|
| **อาหารแนะนำ** | รายการเมนูแนะนำวันนี้, bestseller |
| **ลูกค้าโต๊ะนี้สั่งอะไร** | สรุปออเดอร์โต๊ะ A12: สั่งอะไรบ้าง, จำนวน, สถานะ |
| **เสิร์ฟอะไรไปแล้ว** | สิ่งที่เสิร์ฟแล้ว vs รอเสิร์ฟ |
| **ลูกค้าเก่าไหม** | ลูกค้าติดกลับมา? รู้จักลูกค้า |
| **กินอะไรไม่ได้** | แพ้อาหาร, เคลือบ, งดน้ำตาล, งดเผ็ด |

### ข้อมูลที่ควรมีเพิ่มเติม

| หมวด | รายละเอียดเพิ่มเติม |
|------|----------------------|
| **สรุปโต๊ะ** | โต๊ะ, จำนวนคน, เวลานั่ง, สถานะ (กำลังสั่ง/รออาหาร/รอ Bill) |
| **รายการออเดอร์** | แยกตามสถานะ: รอทำ → กำลังทำ → พร้อมเสิร์ฟ → เสิร์ฟแล้ว |
| **เวลารอ** | นานแค่ไหนแล้ว (นาที), สีเตือนถ้ารอนาน |
| **ลูกค้า VIP** | แท็กลูกค้าเก่า, ชื่อ (ถ้ารู้จัก), หมายเหตุพิเศษ |
| **คำขอพิเศษ** | แสดงชัดในแต่ละรายการ: ไม่เผ็ด, แพ้กุ้ง, งดผัก |
| **ประวัติโต๊ะ** | สั่งอะไรไปบ้างในรอบนี้, รวมยอดก่อนชำระ |
| **ยอดค้างชำระ** | โต๊ะนี้ยังไม่จ่าย, ยอดเท่าไร |
| **โต๊ะที่รอ** | โต๊ะไหนรออาหารนาน, โต๊ะไหนพร้อมเรียก Bill |
| **ความสามารถแนะนำ** | แนะ "เมนูนี้เข้ากับน้ำที่สั่ง", "ลูกค้าเก่ากิน Pad Thai บ่อย" |

### สถานะปัจจุบัน

| ฟีเจอร์ | มี | ไม่มี |
|---------|-----|-------|
| ดูรายการออเดอร์ (/orders) | ✅ | |
| อัปเดตสถานะ PENDING→CONFIRMED→COMPLETED | ✅ | |
| มองตามโต๊ะ | | ❌ |
| มองตามพนักงานเสิร์ฟ | | ❌ |
| ลูกค้าเก่า / CRM | | ❌ |
| คำขอพิเศษ | | ❌ |
| อาหารแนะนำ | | ❌ |

### ข้อเสนอแนะ (Features)

- **หน้าหนึ่ง: /staff/tables** — แสดงโต๊ะทั้งหมด พร้อมสถานะออเดอร์
- **เมื่อคลิกโต๊ะ:** สรุปออเดอร์โต๊ะนั้น, สั่งอะไร, เสิร์ฟอะไรไปแล้ว
- **ลูกค้า:** สร้างตาราง `customers` / `customer_profiles` (optional, link จาก table_code หรือ session)
- **คำขอพิเศษ:** `order_items.notes` หรือ `special_requests`

---

## 3. พ่อครัว (Chef/Kitchen)

### ความต้องการ

| หมวด | รายละเอียด |
|------|-------------|
| **ลำดับอาหารที่ควรทำ** | ใครสั่งก่อน → ทำก่อน (FIFO หรือตาม priority) |
| **ทำพร้อมกันได้** | รายการที่ทำพร้อมกันได้ (เช่น ผัด 2 จาน, น้ำ 2 แก้ว) |
| **อาหารจานเดียว vs ครอบครัว** | จานเดียว vs สั่งกินรวมกัน (จัดกลุ่มตามโต๊ะ) |
| **จัดลำดับ** | ลองึงได้, ลดความสำคัญได้ |
| **ทำแล้วหรือยังไม่ทำ** | สถานะ: NEW → ACCEPTED → COOKING → READY → SERVED |
| **คำขอพิเศษ** | ไม่เผ็ด, ไม่ใส่ผัก, เพิ่มไข่ |
| **รายงานวัตถุดิบ** | สต็อกมีเท่าไร, สร้างรายการสั่งซื้อ |

### ข้อมูลที่ควรมีเพิ่มเติม

| หมวด | รายละเอียดเพิ่มเติม |
|------|----------------------|
| **คิวออเดอร์** | รายการเรียงตามเวลา, ลำดับความสำคัญ (VIP, rush) |
| **กลุ่มตามโต๊ะ** | โต๊ะ A12 สั่ง 3 จาน — แสดงรวมกัน, ทำพร้อมกันได้ |
| **กลุ่มตามประเภท** | แยกกรอบ: ผัด, นึ่ง, ย่าง, ทอด, เครื่องดื่ม |
| **เวลาในแต่ละสถานะ** | ใช้เวลาทำกี่นาที, ส่งเตือนถ้าค้างนาน |
| **เสียง/การแจ้งเตือน** | เสียงออเดอร์ใหม่, เล่นซ้ำได้ |
| **รายการที่ต้องสั่งเพิ่ม** | สต็อกใกล้หมด → แสดงรายการสั่งซื้อ suggested |
| **สูตรอาหาร** | ลิงก์ไป recipe (ถ้ามี), ส่วนผสมต่อจาน |
| **สถานะรายการ** | ต่อรายการ (item): NEW → ACCEPTED → COOKING → READY → SERVED |
| **คำขอพิเศษ** | แสดงชัดในแต่ละรายการ: ไม่เผ็ด, เพิ่มไข่ |
| **รายงาน end of day** | วันนี้ทำกี่จาน, เมนูไหนขายดี, วัตถุดิบใช้ไปเท่าไร |

### สถานะปัจจุบัน

| ฟีเจอร์ | มี | ไม่มี |
|---------|-----|-------|
| KDS (/staff/kds) | | ❌ |
| สถานะออเดอร์ละเอียด (NEW/COOKING/READY) | | ❌ (มีแค่ PENDING/CONFIRMED/COMPLETED) |
| คำขอพิเศษ | | ❌ |
| กลุ่มตามโต๊ะ | | ❌ |
| รายงานวัตถุดิบ | | ❌ (มี Inventory แยก) |

### ข้อเสนอแนะ (Data Model + UI)

```sql
-- สถานะละเอียดต่อออเดอร์/รายการ
-- order_items: status (NEW/ACCEPTED/COOKING/READY/SERVED)
-- order_items: special_requests TEXT
-- orders: priority (normal, rush, vip)
```

- **หน้า KDS:** `/staff/kds` — คอลัมน์ NEW / COOKING / READY / SERVED
- **จัดกลุ่ม:** ตามโต๊ะ, ลำดับตามเวลา
- **Recipe → Ingredient:** สถานะวัตถุดิบในหน้า Inventory มีอยู่แล้ว

---

## 4. แคชเชียร์ / การเงิน — ภาษี และวิธีการจ่ายเงิน

### 4.1 มิติภาษี (Tax)

| หมวด | รายละเอียด |
|------|-------------|
| **VAT 7%** | คำนวณภาษีมูลค่าเพิ่ม — แยก subtotal, VAT, total |
| **ราคารวม/ไม่รวม** | ตั้งค่าร้าน: ราคาในเมนูรวม VAT หรือไม่ |
| **ใบเสร็จ** | ออกใบเสร็จรับเงิน — เลขที่ต่อเนื่อง, รูปแบบตามกรมสรรพากร |
| **ใบกำกับภาษี** | เมื่อลูกค้าต้องการ — รับข้อมูลผู้เสียภาษี (ชื่อ, เลขประจำตัวผู้เสียภาษี, ที่อยู่) |
| **ทะเบียนผู้เสียภาษี** | บันทึกข้อมูลลูกค้าที่ขอใบกำกับ (PII — ต้อง audit) |
| **VAT Report** | สรุปภาษีขาย/ภาษีซื้อ รายเดือน สำหรับยื่นภาษี |
| **ยกเว้นภาษี** | รายการที่ยกเว้น VAT (ถ้ามี) |

### 4.2 มิติวิธีการจ่ายเงิน (Payment Methods)

| หมวด | รายละเอียด |
|------|-------------|
| **วิธีจ่ายที่รองรับ** | เงินสด (CASH), QR (พร้อมเพย์/ธนาคาร), บัตรเครดิต/เดบิต, โอนเงิน |
| **Split bill** | แบ่งจ่ายหลายคน — คนละกี่บาท หรือจ่ายเป็นสัดส่วน |
| **ส่วนลดตอนชำระ** | ลดเพิ่มที่จุดขาย (manager approval) |
| **ทอน** | รับเงิน X บาท, คืนทอน Y บาท |
| **Point/Coupon** | ใช้คะแนน/คูปองหักลด (ถ้ามีระบบ loyalty) |
| **reconciliation** | ยอดเงินสดท้ายวัน — นับจริง vs ระบบ ต้องตรง |
| **รายงานแยกตามวิธีจ่าย** | ยอดเงินสด, QR, บัตร แยกตามวัน/กะ |

### 4.3 ข้อมูลที่ควรมีเพิ่มเติม

| หมวด | รายละเอียดเพิ่มเติม |
|------|----------------------|
| **หน้าชำระเงิน** | แสดงยอดรวม, VAT, service charge (ถ้ามี), วิธีจ่าย |
| **ใบเสร็จ** | พิมพ์หรือส่งอีเมล/LINE |
| **ใบกำกับ** | Form กรอกข้อมูลผู้เสียภาษี, เลขที่ใบกำกับอัตโนมัติ |
| **Void/Refund** | ยกเลิกการชำระ, คืนเงิน — ต้องมีเหตุผล + audit |
| **Daily settlement** | สรุปยอดขายวันนี้ แยกตามวิธีจ่าย, เงินสดนับจริง |

### 4.4 สถานะปัจจุบัน

| ฟีเจอร์ | มี | ไม่มี |
|---------|-----|-------|
| บันทึกการชำระ (CASH, QR) | ✅ | |
| VAT / ภาษี | | ❌ |
| ใบเสร็จ | | ❌ |
| ใบกำกับภาษี | | ❌ |
| บัตรเครดิต/โอน | | ❌ |
| Split bill | | ❌ |
| Daily reconciliation | | ❌ |

### 4.5 ข้อเสนอแนะ (Data Model)

```sql
-- ภาษี
-- receipts: id, order_id, receipt_number, subtotal, vat, service_charge, total, issued_at
-- tax_invoices: id, receipt_id, tax_profile_id, invoice_number, customer_name, tax_id, address
-- tax_profiles: id, customer_name, tax_id, address (PII - audit)

-- วิธีจ่าย
-- payments: method พ extend ('CARD', 'TRANSFER') 
-- payment_splits: สำหรับ split bill
-- daily_settlements: สรุปยอดแยกตามวิธีจ่าย
```

---

## 5. ผู้จัดการร้าน (Manager)

### ความต้องการ

| หมวด | รายละเอียด |
|------|-------------|
| **ภาพรวมทั้งหมด** | ยอดขายวันนี้, ออเดอร์จำนวน, สต็อกเตือน |
| **จัดการเมนู** | CRUD เมนู, หมวดหมู่ |
| **จัดการพนักงาน** | ขาเข้า-ออก, ค่าจ้าง (ถ้ามี) |
| **จัดการสต็อก** | สินค้าที่ต้องสั่งซื้อ, ของใกล้หมดอายุ |
| **จัดการโปรโมชั่น** | สร้าง/แก้ไขโปรโมชั่น |

### ข้อมูลที่ควรมีเพิ่มเติม

| หมวด | รายละเอียดเพิ่มเติม |
|------|----------------------|
| **Dashboard รายวัน** | ยอดขายวันนี้, เปรียบเทียบกับวันก่อน, ออเดอร์จำนวน |
| **Dashboard รายชั่วโมง** | Peak ยอดขายช่วงไหน, คนงานเพียงพอไหม |
| **สถานะโต๊ะ** | โต๊ะว่าง/occupied กี่โต๊ะ, Turnover rate |
| **พนักงาน** | ใครอยู่กะไหน, ขาเข้า-ออก, ค่าล่วงเวลา |
| **สต็อก** | สินค้าใกล้หมด, ของใกล้หมดอายุ, สร้างรายการสั่งซื้อ |
| **รายการเมนู** | เมนูไหนขายดี, เมนูไหนขายไม่ดี, ควรปรับหรือลด |
| **โปรโมชั่น** | โปรที่ใช้งานอยู่, ผลกระทบต่อยอดขาย |
| **เหตุการณ์** | จำนวนเหตุการณ์วันนี้ (complaint, cancel, refund) |
| **เป้าหมาย** | เปรียบเทียบยอดขายกับ target รายวัน/สัปดาห์/เดือน |
| **แจ้งเตือน** | สต็อกต่ำ, พนักงานขาด, ออเดอร์ค้างนาน |

### สถานะปัจจุบัน

| ฟีเจอร์ | มี | ไม่มี |
|---------|-----|-------|
| Orders (/orders) | ✅ | |
| Inventory (/inventory) | ✅ | |
| Admin Dashboard (/admin) | ✅ (placeholder) | |
| เมนูจัดการ | | ❌ |
| โปรโมชั่น | | ❌ |
| Payroll | | ❌ |
| Expenses | | ❌ |

### ข้อเสนอแนะ

- ขยาย `/admin` หรือสร้าง `/manager/dashboard` ให้มี:
  - สรุปยอดขายวันนี้
  - ออเดอร์จำนวน
  - สต็อกเตือน
  - ลิงก์ไปเมนู, สต็อก, พนักงาน

---

## 6. มุมกำไรขาดทุน (P&L / Owner)

### ความต้องการ

| หมวด | รายละเอียด |
|------|-------------|
| **รายได้** | ยอดขายรวม, แยกตามวัน/สัปดาห์/เดือน |
| **ค่าใช้จ่าย** | รายการค่าใช้จ่าย (ค่าเช่า, ค่าน้ำ, ค่าไฟ, ค่าวัตถุดิบ) |
| **กำไร** | รายได้ − ค่าใช้จ่าย |
| **กำไรต่อเมนู** | เมนูไหนขายดี, กำไรต่อจาน |
| **COGS** | Cost of Goods Sold |

### ข้อมูลที่ควรมีเพิ่มเติม

| หมวด | รายละเอียดเพิ่มเติม |
|------|----------------------|
| **รายได้** | แยกตามช่องทาง: ลูกค้า walk-in, QR order, delivery |
| **รายได้** | แยกตามชั่วโมง, วัน, สัปดาห์, เดือน |
| **รายได้** | แยกตามหมวดเมนู: อาหาร, เครื่องดื่ม, ของหวาน |
| **ค่าใช้จ่าย** | รายการ: เช่า, น้ำ, ไฟ, วัตถุดิบ, ค่าจ้าง, อื่นๆ |
| **ค่าใช้จ่าย** | แยกตามประเภท, แยกตามสาขา (ถ้ามีหลายสาขา) |
| **กำไร** | รายได้ − ค่าใช้จ่าย (กราฟ, trend) |
| **กำไรต่อเมนู** | เมนูไหน margin สูง, เมนูไหนขายดีแต่ margin ต่ำ |
| **Food cost %** | สัดส่วนต้นทุนวัตถุดิบต่อยอดขาย |
| **Labor cost %** | สัดส่วนค่าจ้างต่อยอดขาย |
| **Break-even** | ยอดขายขั้นต่ำต่อวันเพื่อคุ้มทุน |
| **เปรียบเทียบ** | เปรียบเทียบกับเดือนก่อน, ปีก่อน |
| **Export** | ส่งออก Excel/PDF สำหรับ accountant |
| **ภาษี** | VAT Report, ภาษีขายรายเดือน, ยื่นภาษี |
| **วิธีจ่าย** | รายได้แยกตาม CASH/QR/บัตร/โอน — สำหรับ reconciliation |

### สถานะปัจจุบัน

| ฟีเจอร์ | มี | ไม่มี |
|---------|-----|-------|
| รายได้ (จาก orders) | ✅ ข้อมูลมี | UI สรุปยังไม่มี |
| ค่าใช้จ่าย | | ❌ |
| P&L Report | | ❌ |
| Cost per dish | | ❌ |

### ข้อเสนอแนะ (Data Model)

```sql
-- expenses: รายการค่าใช้จ่าย
-- expense_categories: เช่า, น้ำ, ไฟ, วัตถุดิบ, อื่นๆ
-- reporting: views หรือ materialized views สำหรับ P&L
```

- **หน้า /owner/reports** หรือ /owner/pl:
  - กราฟยอดขาย
  - รายการค่าใช้จ่าย
  - สรุปกำไร/ขาดทุน

---

## 7. Quality Closed Loop — มิติคุณภาพ

> **Close Loop** = วัด → บันทึก → แก้ไข → ติดตาม → ปรับปรุง (วงจรกลับมา)

### ความต้องการ

| หมวด | รายละเอียด |
|------|-------------|
| **1. เก็บ (Collect)** | รับ feedback จากลูกค้า — รายการหลังสั่ง/หลังจอง, หลังจ่ายเงิน |
| **2. บันทึก (Record)** | บันทึกเหตุการณ์: complaint, cancel, refund, ส่งผิด, อาหารไม่ตรง |
| **3. จัดหมวด (Categorize)** | อาหาร, บริการ, ราคา, ความสะอาด, อื่นๆ |
| **4. แจ้ง (Notify)** | แจ้งผู้จัดการ/พนักงานที่เกี่ยวข้องทันที |
| **5. แก้ไข (Resolve)** | ดำเนินการแก้ไข — บันทึกการดำเนินการ, ผลลัพธ์ |
| **6. ติดตาม (Verify)** | ตรวจสอบว่าลูกค้าพอใจหรือยัง, ติดตามผล |
| **7. รายงาน (Report)** | สรุป trend, pattern — เมนูไหนร้องเรียนบ่อย, ปัญหาซ้ำ |
| **8. ปรับปรุง (Improve)** | นำข้อมูลไปปรับเมนู/สูตร/กระบวนการ |

### ข้อมูลที่ควรมีเพิ่มเติม

| หมวด | รายละเอียดเพิ่มเติม |
|------|----------------------|
| **ช่องทาง feedback** | ลูกค้าส่งได้จาก: หลังจ่าย, QR code บนโต๊ะ, LINE |
| **Rating** | คะแนน 1–5 ดาวต่อออเดอร์ หรือรวม |
| **รายละเอียด** | ข้อความ, รูปถ่าย (complaint) |
| **เวลา** | วันที่, เวลา, โต๊ะ, ออเดอร์ที่เกี่ยวข้อง |
| **สถานะ** | เรื่องใหม่ → กำลังดำเนินการ → แก้ไขแล้ว → ปิด |
| **ผู้รับผิดชอบ** | มอบหมายให้ใครแก้ |
| **Dashboard คุณภาพ** | สรุปคะแนนเฉลี่ย, จำนวน complaint, trend |

### สถานะปัจจุบัน

| ฟีเจอร์ | มี | ไม่มี |
|---------|-----|-------|
| รับ feedback จากลูกค้า | | ❌ |
| บันทึก complaint/เหตุการณ์ | | ❌ |
| Tracking การแก้ไข | | ❌ |
| รายงานคุณภาพ | | ❌ |

### ข้อเสนอแนะ (Data Model)

```sql
-- quality_feedback: id, order_id, table_code, type (rating/complaint/suggestion), rating 1-5, note, created_at
-- quality_incidents: id, feedback_id, type (complaint/cancel/refund), category, status, assigned_to, resolved_at, resolution
-- quality_resolutions: id, incident_id, action_taken, notes, created_by
```

### ใครเกี่ยวข้อง

| บทบาท | บทบาทใน Quality Loop |
|-------|------------------------|
| ลูกค้า | ให้ feedback, rating |
| พนักงานเสิร์ฟ | รับ complaint, แจ้งผู้จัดการ |
| พ่อครัว | รับ feedback เรื่องอาหาร, แก้สูตร |
| ผู้จัดการ | รับแจ้ง, มอบหมาย, ติดตาม, รายงาน |
| เจ้าของ | ดู trend, ปรับปรุงนโยบาย |

---

## 8. Matrix สรุปความต้องการ vs สถานะ

| ความต้องการ | ลูกค้า | เสิร์ฟ | พ่อครัว | แคชเชียร์ | ผู้จัดการ | P&L |
|-------------|--------|--------|---------|-----------|-----------|-----|
| เมนูสวย + ชื่อ + ราคา | ✅ | - | - | - | - | - |
| ประเภทอาหาร (เนื้อ/ทะเล/มังสวิรัติ) | ❌ | - | - | - | - | - |
| โปรโมชั่น | ❌ | - | - | - | - | - |
| อาหารแนะนำ | - | ❌ | - | - | - | - |
| สรุปออเดอร์ตามโต๊ะ | - | ❌ | - | △ | ✅ | - |
| เสิร์ฟอะไรไปแล้ว | - | ❌ | - | - | - | - |
| ลูกค้าเก่า / คำขอพิเศษ | - | ❌ | - | - | - | - |
| KDS | - | - | ❌ | - | - | - |
| ลำดับทำอาหาร | - | - | ❌ | - | - | - |
| รายงานวัตถุดิบ | - | - | ❌ | - | ✅ | - |
| Dashboard ภาพรวม | - | - | - | - | △ | - |
| P&L | - | - | - | - | - | ❌ |
| ภาษี (VAT, ใบเสร็จ, ใบกำกับ) | △ | - | - | △ | △ | ❌ |
| วิธีจ่าย (CASH/QR/บัตร/โอน) | △ | - | - | ✅ | △ | △ |
| Split bill | △ | - | - | ❌ | - | - |
| **Quality Loop** (feedback, complaint, rating, resolve) | ❌ | △ | △ | - | ❌ | △ |

**สัญลักษณ์:** ✅ มี | ❌ ยังไม่มี | △ มีบางส่วน

---

## 9. ลำดับความสำคัญในการพัฒนา (แนะนำ)

### Phase A: ลูกค้า + เมนู (High Impact)

1. เพิ่ม tags ประเภทอาหาร (เนื้อ, หมู, ทะเล, มังสวิรัติ)
2. โปรโมชั่นขั้นพื้นฐาน (ลดราคา, แถม)
3. ปรับปรุง UI เมนูให้สวยและใช้งานง่าย

### Phase B: พ่อครัว + พนักงานเสิร์ฟ (Core Ops)

1. KDS (`/staff/kds`) — สถานะ NEW/COOKING/READY/SERVED
2. หน้าสรุปโต๊ะ (`/staff/tables`) — โต๊ะนี้สั่งอะไร, เสิร์ฟอะไรไปแล้ว
3. คำขอพิเศษใน order_items

### Phase C: ผู้จัดการ + P&L

1. Dashboard ผู้จัดการ (`/manager/dashboard`)
2. เมนูจัดการ (`/manager/menu`)
3. Expenses + P&L Report (`/owner/pl`)

### Phase D: ภาษี และวิธีการจ่ายเงิน

1. VAT 7% — คำนวณ subtotal, VAT, total
2. ใบเสร็จรับเงิน — เลขที่ต่อเนื่อง
3. ใบกำกับภาษี — Form + tax profile (PII)
4. วิธีจ่ายเพิ่ม — บัตรเครดิต, โอนเงิน
5. Split bill
6. Daily settlement / reconciliation

### Phase E: Quality Closed Loop

1. รับ feedback/rating จากลูกค้า (หลังจ่าย/QR)
2. บันทึก complaint/เหตุการณ์ — แ categorize
3. Dashboard แจ้งผู้จัดการ — มอบหมาย
4. Tracking การแก้ไข — สถานะ, resolution
5. รายงาน trend — เมนูไหนร้องเรียนบ่อย

---

## 10. สรุปข้อมูลที่ควรมีเพิ่มเติม (Quick Reference)

| บทบาท | ข้อมูลหลักที่ควรมีเพิ่ม |
|-------|--------------------------|
| **ลูกค้า** | รายละเอียดเมนู, ความเผ็ด, เวลาเตรียม, filter/search, modifier, ราคา+ภาษี, วิธีจ่าย |
| **พนักงานเสิร์ฟ** | สรุปโต๊ะ, เวลารอ, VIP, คำขอพิเศษ, ยอดค้างชำระ, โต๊ะที่รอ |
| **พ่อครัว** | คิวตามประเภท, กลุ่มตามโต๊ะ, เวลาในแต่ละสถานะ, แจ้งเตือน, รายงาน end of day |
| **แคชเชียร์** | VAT, ใบเสร็จ, ใบกำกับ, วิธีจ่ายหลายแบบ, Split bill, Daily reconciliation |
| **ผู้จัดการ** | Dashboard รายวัน/ชั่วโมง, สถานะโต๊ะ, พนักงาน, สต็อก, เป้าหมาย, แจ้งเตือน |
| **เจ้า/P&L** | รายได้แยกช่องทาง, ค่าใช้จ่ายแยกประเภท, Food/Labor cost %, Break-even, Export, VAT Report |
| **Quality Loop** | เก็บ feedback → บันทึก incident → แก้ไข → ติดตาม → รายงาน trend — ปรับปรุงต่อเนื่อง |

---

*เอกสารนี้ใช้เป็นแนวทางสำหรับการออกแบบและวางแผนฟีเจอร์ตามมุมมองของแต่ละบทบาท*
